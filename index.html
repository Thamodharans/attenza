<!DOCTYPE html>  
<html lang="en">  
<head>  
    <link rel="manifest" href="./manifest.json">  
    <meta name="theme-color" content="#8b7cc8">  
    <link rel="apple-touch-icon" href="./icons/icon-192.png">  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  

    <!-- Fonts -->  
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">  
    <!-- Notebook page fonts -->  
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@300;400;700&display=swap" rel="stylesheet">  
    <link href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&display=swap" rel="stylesheet">  
    <link href="https://fonts.googleapis.com/css2?family=Cabin+Sketch:wght@400;700&display=swap" rel="stylesheet">  

    <!-- Flatpickr CSS for Periodical records -->  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">  

    <title>ATTENZA - for Dispur College</title>  

    <style>  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
        }  

        body {  
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;  
            background: #f5f3ef;  
            min-height: 100vh;  
            overflow-x: hidden;  
            padding-bottom: 100px; /* space so bottom AI card does not overlap content */  
        }  

        .header {  
            background: #ffffff;  
            padding: 23px 16px 6px;  
            border-bottom: 1px solid #e0e0e0;  
            border-bottom-left-radius: 20px;  
            border-bottom-right-radius: 20px;  
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);  
        }  

        .header.expanded {  
            padding-bottom: 30px;  
        }  

        .top-bar {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            max-width: 1200px;  
            margin: 0 auto;  
        }  

        .left-section {  
            display: flex;  
            align-items: center;  
            gap: 16px;  
        }  

        /* HEADER ICON BUTTONS (menu + notification) - BORDER ONLY STYLE */  
        .icon-btn {  
            width: 44px;  
            height: 44px;  
            background: transparent;  
            border: 2.5px solid #444444;  
            border-radius: 16px;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            cursor: pointer;  
            padding: 0;  
            position: relative;  
            transition: background-color 0.2s ease, border-color 0.2s ease;  
        }  

        .icon-btn:hover {  
            background-color: #f5f5f5;  
            border-color: #333333;  
        }  

        /* MENU ICON (3-level variant) */  
        .menu-mini {  
            width: 20px;  
            height: 16px;  
            position: relative;  
        }  

        .menu-mini::before,  
        .menu-mini::after,  
        .menu-mini span {  
            content: "";  
            position: absolute;  
            left: 0;  
            height: 2.5px;  
            background: #444444;  
            border-radius: 4px;  
        }  

        .menu-mini::before {  
            top: 0;  
            width: 20px;  
        }  

        .menu-mini span {  
            top: 50%;  
            transform: translateY(-50%);  
            width: 14px;  
        }  

        .menu-mini::after {  
            bottom: 0;  
            width: 9px;  
        }  

        /* NOTIFICATION ICON (border-only bell + green dot) */  
        .notif-rev svg {  
            width: 27px;  
            height: 27px;  
            color: #444444;  
        }  

        .notif-dot {  
            position: absolute;  
            top: 4px;  
            right: 4px;  
            width: 7px;  
            height: 7px;  
            background-color: rgb(0, 255, 0);  
            border-radius: 25px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  

        .notif-dot::before {  
            content: "";  
            position: absolute;  
            width: 2px;  
            height: 2px;  
            background-color: rgb(0, 255, 0);  
            border-radius: 35px;  
            animation: notifPulse 1s infinite;  
        }  

        @keyframes notifPulse {  
            0% {  
                background-color: rgb(0, 255, 0);  
                width: 2px;  
                height: 2px;  
            }  
            100% {  
                background-color: rgba(0, 255, 0, 0);  
                width: 26px;  
                height: 26px;  
            }  
        }  

        .brand-container {  
            display: flex;  
            flex-direction: column;  
            gap: 2px;  
        }  

        .brand-name {  
            font-size: 18px;  
            font-weight: 700;  
            color: #2d3436;  
            letter-spacing: 0.5px;  
            line-height: 1;  
        }  

        .tagline {  
            font-size: 11px;  
            font-weight: 300;  
            color: #7f8c8d;  
            line-height: 1;  
        }  

        .expand-section {  
            max-width: 1200px;  
            margin: 0 auto;  
        }  

        .expand-arrow {  
            display: flex;  
            justify-content: center;  
            margin-top: 2px;  
            cursor: pointer;  
            transition: all 0.3s ease;  
        }  

        .expand-arrow svg {  
            width: 24px;  
            height: 24px;  
            stroke: #95a5a6;  
            transition: all 0.3s ease;  
        }  

        .expand-arrow:hover svg {  
            stroke: #2d3436;  
        }  

        .expand-arrow.rotated svg {  
            transform: rotate(180deg);  
        }  

        .expanded-content {  
            max-height: 0;  
            overflow: hidden;  
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);  
            color: #2d3436;  
        }  

        .expanded-content.show {  
            max-height: 600px;  
        }  

        .content-inner {  
            padding: 30px 20px 10px;  
        }  

        .info-section {  
            margin-bottom: 25px;  
        }  

        .info-section h3 {  
            font-size: 18px;  
            margin-bottom: 10px;  
            color: #2d3436;  
            font-weight: 600;  
        }  

        .info-section p {  
            font-size: 14px;  
            line-height: 1.7;  
            color: #5a6c7d;  
            font-weight: 400;  
        }  

        .features {  
            display: grid;  
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));  
            gap: 20px;  
            margin-top: 15px;  
        }  

        .feature-card {  
            background: #f8f9fa;  
            padding: 20px;  
            border-radius: 12px;  
            border: 1px solid #e9ecef;  
            transition: all 0.3s ease;  
        }  

        .feature-card:hover {  
            transform: translateY(-3px);  
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);  
        }  

        .feature-card h4 {  
            font-size: 15px;  
            margin-bottom: 8px;  
            color: #2d3436;  
            font-weight: 600;  
        }  

        .feature-card p {  
            font-size: 13px;  
            color: #5a6c7d;  
            font-weight: 400;  
            line-height: 1.5;  
        }  

        .content-body {  
            max-width: 1200px;  
            margin: 0 auto;  
            padding: 16px 16px;  
        }  

        .sketch-line-container {  
            width: 100%;  
            display: flex;  
            justify-content: center;  
            margin-top: 10px;  
        }  

        .sketch-line {  
            font-family: "Cabin Sketch", system-ui, sans-serif;  
            font-size: 20px;  
            letter-spacing: 0.6px;  
            color: #333;  
            display: flex;  
            align-items: center;  
            gap: 6px;  
            background: transparent;  
        }  

        .sketch-heart {  
            width: 22px;  
            height: 22px;  
            stroke: #e63946;  
            stroke-width: 6;  
            fill: none;  
            stroke-linecap: round;  
            stroke-linejoin: round;  
            filter: drop-shadow(0 0 0.7px rgba(0,0,0,0.25));  
            transform: translateY(1px);  
        }  

        /* HERO / WELCOME AREA â€“ illustration as background on right */  
        .welcome-section {  
            margin: 4px -16px 28px;  
            padding: 16px 16px 20px;  
            background-color: #f5f3ef;  
            background-image: url("Image/Illustration.png"); /* change path as needed */  
            background-repeat: no-repeat;  
            background-position: right bottom;  
            background-size: auto 300px;  
        }  

        .welcome-content {  
            max-width: 1200px;  
            margin: 0 auto;  
            display: flex;  
            align-items: center;  
            gap: 20px;  
        }  

        .welcome-text-content {  
            max-width: 60%;  
        }  

        .welcome-text-content h3 {  
            font-size: 24px;  
            font-weight: 600;  
            color: #2d3436;  
            margin-bottom: 6px;  
        }  

        .welcome-text-content p {  
            font-size: 15px;  
            color: #6b6b6b;  
            line-height: 1.6;  
        }  

        .attendance-ring {  
            position: relative;  
            width: 140px;  
            height: 140px;  
            margin-top: 14px;  
            margin-left: 15px;  
        }  

        .ring-svg {  
            width: 100%;  
            height: 100%;  
            transform: rotate(-90deg);  
        }  

        .ring-bg-circle {  
            fill: none;  
            stroke: #e8e5df;  
            stroke-width: 18;  
        }  

        .ring-progress-circle {  
            fill: none;  
            stroke: #F4C542;  
            stroke-width: 18;  
            stroke-linecap: round;  
            transition: stroke-dashoffset 0.5s ease;  
        }  

        .ring-center {  
            position: absolute;  
            top: 50%;  
            left: 50%;  
            transform: translate(-50%, -50%);  
            text-align: center;  
        }  

        .percentage {  
            font-size: 32px;  
            font-weight: 700;  
            color: #2d3436;  
            display: block;  
        }  

        .percentage-label {  
            font-size: 12px;  
            color: #8e8e93;  
            font-weight: 500;  
        }  

        .fade-text {  
            opacity: 0;  
            transition: opacity 0.35s ease;  
        }  

        .section-header {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            margin-bottom: 20px;  
        }  

        .section-header h3 {  
            font-size: 20px;  
            font-weight: 600;  
            color: #2d3436;  
        }  

        .view-all {  
            font-size: 14px;  
            color: #8e8e93;  
            text-decoration: none;  
            display: flex;  
            align-items: center;  
            gap: 6px;  
            font-weight: 500;  
            transition: color 0.3s ease;  
        }  

        .view-all:hover {  
            color: #2d3436;  
        }  

        .carousel-container {  
            position: relative;  
            margin-bottom: 40px;  
        }  

        .carousel {  
            display: flex;  
            gap: 16px;  
            overflow-x: auto;  
            scroll-snap-type: x mandatory;  
            scrollbar-width: none;  
            padding-bottom: 12px;  
            scroll-behavior: smooth;  
        }  

        .carousel::-webkit-scrollbar {  
            display: none;  
        }  

        .class-card {  
            min-width: 340px;  
            background: white;  
            border-radius: 20px;  
            padding: 24px;  
            scroll-snap-align: start;  
            border: 1.5px solid #e0e0e0;  
            transition: all 0.3s ease;  
        }  

        .class-card:hover {  
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);  
            transform: translateY(-2px);  
        }  

        .class-header {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            margin-bottom: 16px;  
        }  

        .class-subject {  
            font-size: 18px;  
            font-weight: 600;  
            color: #2d3436;  
        }  

        .class-time {  
            font-size: 14px;  
            color: #8e8e93;  
            font-weight: 500;  
        }  

        .class-details {  
            font-size: 14px;  
            color: #6b6b6b;  
            margin-bottom: 18px;  
        }  

        .class-details div {  
            margin-bottom: 8px;  
        }  

        .attendance-actions {  
            display: grid;  
            grid-template-columns: repeat(3, 1fr);  
            gap: 10px;  
        }  

        .attendance-btn {  
            padding: 11px 16px;  
            border-radius: 12px;  
            border: none;  
            font-size: 13px;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s ease;  
        }  

        .attendance-btn:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);  
        }  

        .btn-attend {  
            background: #c8e6c9;  
            color: #2e7d32;  
        }  

        .btn-attend:hover {  
            background: #a5d6a7;  
        }  

        .btn-skip {  
            background: #ffccbc;  
            color: #d84315;  
        }  

        .btn-skip:hover {  
            background: #ffab91;  
        }  

        .btn-not-held {  
            background: #e0e0e0;  
            color: #424242;  
        }  

        .btn-not-held:hover {  
            background: #d5d5d5;  
        }  

        /* ORIGINAL SUBJECT SECTION STYLES (no longer used in HTML but kept untouched) */  
        .subject-grid {  
            display: grid;  
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));  
            gap: 16px;  
        }  

        .subject-card {  
            background: white;  
            border-radius: 20px;  
            padding: 24px;  
            position: relative;  
            overflow: hidden;  
            cursor: pointer;  
            transition: all 0.3s ease;  
            border: 1.5px solid #e0e0e0;  
            min-height: 140px;  
            display: flex;  
            flex-direction: column;  
            justify-content: space-between;  
        }  

        .subject-card:hover {  
            transform: translateY(-4px);  
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);  
        }  

        .subject-card.dark-blue {  
            background: linear-gradient(135deg, #2d3561 0%, #1f2745 100%);  
            border: none;  
        }  

        .subject-card.purple {  
            background: linear-gradient(135deg, #b39ddb 0%, #9575cd 100%);  
            border: none;  
        }  

        .subject-card.mint {  
            background: linear-gradient(135deg, #a8ddc4 0%, #7cc9a5 100%);  
            border: none;  
        }  

        .subject-card.peach {  
            background: linear-gradient(135deg, #ffccbc 0%, #ffab91 100%);  
            border: none;  
        }  

        .subject-icon {  
            width: 36px;  
            height: 36px;  
            background: rgba(255, 255, 255, 0.2);  
            border-radius: 10px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            margin-bottom: 14px;  
        }  

        .subject-card.dark-blue .subject-icon {  
            color: white;  
        }  

        .subject-card.purple .subject-icon,  
        .subject-card.mint .subject-icon,  
        .subject-card.peach .subject-icon {  
            color: rgba(0, 0, 0, 0.6);  
        }  

        .subject-name {  
            font-size: 16px;  
            font-weight: 600;  
            margin-bottom: 6px;  
        }  

        .subject-card.dark-blue .subject-name {  
            color: white;  
        }  

        .subject-card.purple .subject-name,  
        .subject-card.mint .subject-name,  
        .subject-card.peach .subject-name {  
            color: rgba(0, 0, 0, 0.85);  
        }  

        .subject-percentage {  
            font-size: 28px;  
            font-weight: 700;  
        }  

        .subject-card.dark-blue .subject-percentage {  
            color: white;  
        }  

        .subject-card.purple .subject-percentage,  
        .subject-card.mint .subject-percentage,  
        .subject-card.peach .subject-percentage {  
            color: rgba(0, 0, 0, 0.85);  
        }  

        .arrow-icon {  
            position: absolute;  
            bottom: 20px;  
            right: 20px;  
            width: 32px;  
            height: 32px;  
            background: rgba(255, 255, 255, 0.3);  
            border-radius: 8px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  

        .subject-card.dark-blue .arrow-icon {  
            color: white;  
        }  

        .subject-card.purple .arrow-icon,  
        .subject-card.mint .arrow-icon,  
        .subject-card.peach .arrow-icon {  
            color: rgba(0, 0, 0, 0.6);  
        }  

        .install-strip {  
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
            margin: 0 -20px 35px -20px;  
            padding: 16px 20px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            transition: all 0.3s ease;  
        }  

        .install-strip.hidden {  
            display: none;  
        }  

        .install-content {  
            max-width: 1200px;  
            width: 100%;  
            display: flex;  
            align-items: center;  
            justify-content: space-between;  
        }  

        .install-text {  
            color: white;  
            font-size: 15px;  
            font-weight: 500;  
            letter-spacing: 0.3px;  
            cursor: pointer;  
            flex: 1;  
        }  

        .close-strip {  
            background: rgba(255, 255, 255, 0.2);  
            border: none;  
            width: 32px;  
            height: 32px;  
            border-radius: 8px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            cursor: pointer;  
            transition: all 0.3s ease;  
            flex-shrink: 0;  
        }  

        .close-strip:hover {  
            background: rgba(255, 255, 255, 0.3);  
        }  

        .close-strip svg {  
            color: white;  
        }  

        /* NOTEBOOK PAGE SECTION (full-width card with 20px side space) */  
        .notebook-section {  
            margin: 0 -16px 32px;  
            padding: 0 20px;  
        }  

        .page {  
            position: relative;  
            width: 100%;  
            font-family: "Gaegu", cursive;  
            font-size: 16px;  
            background: #fffdf6;  
            background-image: linear-gradient(  
                    #f5f5f0 var(--line-light, 0.85rem),  
                    #ccc var(--line-dark, 0.95rem)  
            );  
            background-size: 100% var(--line-gap, 0.95rem);  
            padding: 0.7rem 0.7rem 0.8rem 5.5rem;  
            border: 1px solid rgba(0, 0, 0, 0.08);  
            border-radius: 0;  
            overflow: hidden;  
            line-height: 1.05rem;  
        }  

        .page::before,  
        .page::after {  
            position: absolute;  
            content: "";  
            bottom: 4px;  
            width: 45%;  
            height: 7px;  
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.22);  
            z-index: -1;  
            transition: 0.3s ease;  
        }  

        .page::before {  
            left: 18px;  
            transform: skew(-3deg) rotate(-2deg);  
        }  

        .page::after {  
            right: 18px;  
            transform: skew(3deg) rotate(2deg);  
        }  

        .margin {  
            position: absolute;  
            border-left: 1px solid #d88;  
            height: 100%;  
            left: 4.3rem;  
            top: 0;  
        }  

        .page p {  
            margin: 0;  
            text-indent: 0.4rem;  
            padding-bottom: 0.4rem;  
            color: #111;  
            line-height: 1.05rem;  
        }  

        .note-logo {  
            position: absolute;  
            left: 0;  
            top: 50%;  
            transform: translateY(-50%);  
            width: 75px;  
            height: 75px;  
            object-fit: contain;  
            pointer-events: none;  
        }  

        .teacher-mark {  
            position: absolute;  
            bottom: 0.4rem;  
            right: 1rem;  
            display: flex;  
            flex-direction: column;  
            align-items: flex-end;  
            transform: rotate(-12deg);  
        }  

        .teacher-sign {  
            font-family: "Cedarville Cursive", cursive;  
            font-size: 20px;  
            color: #b71c1c;  
            letter-spacing: 1px;  
            transform: rotate(4deg);  
        }  

        /* MOBILE ADJUSTMENTS */  
        @media (max-width: 768px) {  
            .brand-name {  
                font-size: 16px;  
            }  

            .tagline {  
                font-size: 11px;  
            }  

            .features {  
                grid-template-columns: 1fr;  
            }  

            .welcome-section {  
                background-size: auto 275px;  
            }  

            .attendance-ring {  
                width: 120px;  
                height: 120px;  
            }  

            .percentage {  
                font-size: 28px;  
            }  

            .class-card {  
                min-width: 280px;  
            }  

            .subject-grid {  
                grid-template-columns: 1fr;  
            }  
        }  

        /* ---------- AI BOARD (BOTTOM SHEET) ---------- */  

        .ai-board-overlay {  
            position: fixed;  
            inset: 0;  
            z-index: 900;  
            display: flex;  
            justify-content: center;  
            align-items: flex-end;  
            pointer-events: none;  
        }  

        .ai-board {  
            pointer-events: auto;  
            width: min(600px, 100%);  
            height: 80vh;  
            margin: 0 auto;  
            border-radius: 24px 24px 0 0;  
            padding: 20px 20px 16px;  

            background: rgba(255, 255, 255, 0.2);  
            border: 1px solid rgba(255, 255, 255, 0.5);  
            box-shadow: 0 24px 40px rgba(15, 23, 42, 0.25);  

            backdrop-filter: blur(24px) saturate(140%);  
            -webkit-backdrop-filter: blur(24px) saturate(140%);  

            display: flex;  
            flex-direction: column;  
            transform: translateY(100%);  
            opacity: 0;  
            transition: transform 0.28s ease-out, opacity 0.28s ease-out;  
        }  

        .ai-board.visible {  
            transform: translateY(0);  
            opacity: 1;  
        }  

        .ai-board-header {  
            display: flex;  
            align-items: center;  
            justify-content: space-between;  
            margin-bottom: 16px;  
        }  

        .ai-title {  
            margin: 0;  
            font-size: 24px;  
            font-weight: 700;  
            letter-spacing: 0.02em;  
            background: linear-gradient(120deg, #8b5cf6, #fda4af);  
            -webkit-background-clip: text;  
            background-clip: text;  
            color: transparent;  
        }  

        .ai-close-btn {  
            border: none;  
            outline: none;  
            background: rgba(255, 255, 255, 0.85);  
            border-radius: 999px;  
            width: 32px;  
            height: 32px;  
            font-size: 20px;  
            font-weight: 500;  
            line-height: 1;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            cursor: pointer;  
            box-shadow: 0 4px 10px rgba(15, 23, 42, 0.2);  
            transition: transform 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;  
        }  

        .ai-close-btn:hover {  
            background: rgba(255, 255, 255, 0.95);  
            transform: translateY(-1px);  
        }  

        .ai-close-btn:active {  
            transform: translateY(0);  
            box-shadow: 0 2px 6px rgba(15, 23, 42, 0.25);  
        }  

        .ai-board-body {  
            flex: 1;  
            display: flex;  
            flex-direction: column;  
            gap: 16px;  
            font-size: 14px;  
            overflow-y: auto;  
        }  

        .ai-user-card-wrapper {  
            display: flex;  
            justify-content: flex-end;  
        }  

        .ai-user-card {  
            max-width: 80%;  
            padding: 12px 16px;  
            border-radius: 18px;  
            border: 1px solid rgba(255, 255, 255, 0.85);  
            background: rgba(255, 255, 255, 0.96);  
            box-shadow: 0 8px 18px rgba(15, 23, 42, 0.12);  
            line-height: 1.4;  
        }  

        .ai-status-row {  
            display: flex;  
            align-items: center;  
            gap: 8px;  
            font-size: 13px;  
            color: #1f2933;  
        }  

        .ai-status-text {  
            font-weight: 500;  
            letter-spacing: 0.02em;  
        }  

        .ai-response {  
            font-size: 14px;  
            line-height: 1.5;  
            color: #020617;  
            padding-top: 10px;  
            white-space: pre-wrap;  
        }  

        .ai-copy-btn {  
            margin-top: 6px;  
            align-self: flex-start;  
            display: inline-flex;  
            align-items: center;  
            gap: 6px;  

            padding: 6px 10px;  
            border-radius: 999px;  
            border: 1px solid rgba(148, 163, 184, 0.6);  
            background: rgba(255, 255, 255, 0.9);  
            font-size: 12px;  
            color: #0f172a;  
            cursor: pointer;  
            transition: background 0.12s ease, box-shadow 0.12s ease, transform 0.12s ease;  
        }  

        .ai-copy-btn:hover {  
            background: #ffffff;  
            box-shadow: 0 4px 10px rgba(15, 23, 42, 0.18);  
            transform: translateY(-1px);  
        }  

        .ai-copy-btn:active {  
            transform: translateY(0);  
            box-shadow: 0 2px 5px rgba(15, 23, 42, 0.25);  
        }  

        /* BOARD LOADER */  

        .ai-status-loader {  
            transform: rotate(80deg);  
            max-width: 30px;  
            max-height: 30px;  
        }  

        .ai-status-loader .stripe {  
            display: inline-block;  
            width: 3px;  
            height: 14px;  
            animation: aiStatusLoaderAnim 1.2s ease-in-out infinite;  
        }  

        .ai-status-loader .stripe:nth-child(1) {  
            background-color: #8b5cf6;  
            animation-delay: 0.15s;  
            margin-bottom: -5px;  
        }  

        .ai-status-loader .stripe:nth-child(2) {  
            background-color: #fda4af;  
            animation-delay: 0.3s;  
            margin-bottom: 5px;  
        }  

        .ai-status-loader .stripe:nth-child(3) {  
            background-color: #c4b5fd;  
            animation-delay: 0.45s;  
            margin-bottom: -7px;  
        }  

        .ai-status-loader .stripe:nth-child(4) {  
            background-color: #f9a8d4;  
            animation-delay: 0.6s;  
            margin-bottom: 7px;  
        }  

        @keyframes aiStatusLoaderAnim {  
            20% { transform: scale(1, 2.2); }  
            40% { transform: scale(1); }  
        }  

        /* ---------- FIXED AI CARD CONTAINER ---------- */  

        .ai-card-container {  
            position: fixed;  
            bottom: 16px;  
            left: 0;  
            right: 0;  
            width: 100%;  
            display: flex;  
            justify-content: center;  
            padding: 0 17px;  
            z-index: 1000;  
            pointer-events: none;  
        }  

        .ai-card-container .see-more-btn {  
            pointer-events: auto;  
        }  

        /* ---------- AI CARD ---------- */  

        .see-more-btn {  
            position: relative;  
            background-color: #262626;  
            height: 4.5rem;  
            width: 100%;  
            max-width: 540px;  
            text-align: left;  
            padding: 0.75rem;  
            color: #f9fafb;  
            font-size: 1rem;  
            font-weight: 700;  
            border-radius: 0.8rem;  
            overflow: hidden;  
            cursor: pointer;  
            transition: all 0.5s ease;  
            transform-origin: left;  
            background-clip: padding-box;  
            text-decoration: none;  

            display: flex;  
            align-items: center;  
            gap: -2rem;  
        }  

        .see-more-btn::before,  
        .see-more-btn::after {  
            content: "";  
            position: absolute;  
            border-radius: 9999px;  
            filter: blur(16px);  
            z-index: 10;  
            transition: all 0.5s ease;  
            pointer-events: none;  
        }  

        .see-more-btn::before {  
            width: 3rem;  
            height: 3rem;  
            right: 0.25rem;  
            top: 0.25rem;  
            background-color: #8b5cf6;  
        }  

        .see-more-btn::after {  
            width: 5rem;  
            height: 5rem;  
            right: 2rem;  
            top: 0.75rem;  
            background-color: #fda4af;  
        }  

        .see-more-btn:hover {  
            border-color: #fecdd3;  
            text-decoration: none;  
            color: #f9fafb;  
        }  

        .see-more-btn:hover::before {  
            right: 3rem;  
            bottom: -2rem;  
            top: auto;  
            filter: blur(8px);  
            box-shadow: 20px 20px 20px 30px #a21caf;  
        }  

        .see-more-btn:hover::after {  
            right: -2rem;  
        }  

        .divider {  
            width: 2px;  
            height: 18px;  
            background: rgba(255,255,255,0.7);  
            border-radius: 4px;  
            margin-left: 1rem;  
            margin-right: 0.5rem;  
        }  

        .prompt-area {  
            position: relative;  
            z-index: 20;  
            flex: 1;  
            display: flex;  
            align-items: center;  
            overflow: hidden;  
        }  

        .prompt-display {  
            flex: 1;  
            position: relative;  
            display: flex;  
            align-items: center;  
        }  

        .typewriter-text {  
            font-family: "Courier New", Courier, monospace;  
            font-size: 1.05rem;  
            letter-spacing: -1px;  
            white-space: nowrap;  
            overflow: hidden;  
            border-right: 2px solid #f9fafb;  
            padding-right: 2px;  
            box-sizing: border-box;  
            animation: blink-caret 0.8s step-end infinite;  
        }  

        @keyframes blink-caret {  
            from, to { border-color: transparent; }  
            50% { border-color: #f9fafb; }  
        }  

        .prompt-input {  
            display: none;  
            letter-spacing: 0;  
            width: 100%;  
            background: transparent;  
            border: none;  
            outline: none;  
            font-family: "Poppins", system-ui, sans-serif;  
            font-size: 1rem;  
            color: #f9fafb;  
        }  

        .prompt-input::placeholder {  
            color: #9ca3af;  
        }  

        .send-btn {  
            display: none;  
            margin-left: 0.5rem;  
            width: 2rem;  
            height: 2rem;  
            border-radius: 9999px;  
            border: 1px solid rgba(255, 255, 255, 0.2);  
            background: rgba(255, 255, 255, 0.1);  
            backdrop-filter: blur(10px);  
            -webkit-backdrop-filter: blur(10px);  
            color: #ffffff;  
            font-size: 1.1rem;  
            font-weight: 600;  
            align-items: center;  
            justify-content: center;  
            padding: 0;  
            cursor: pointer;  
            flex-shrink: 0;  
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);  
        }  

        .send-btn.visible {  
            display: flex;  
        }  

        .logo-loader-wrapper {  
            height: 2.7rem;  
            width: 2.7rem;  
            margin-left: 0;  
            position: relative;  
            z-index: 20;  
            flex-shrink: 0;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            pointer-events: none;  
        }  

        .logo-loader-wrapper .loader {  
            --size: 0.5;  
        }  

        /* Loader */  
        .loader {  
            --color-one: #ffbf48;  
            --color-two: #be4a1d;  
            --color-three: #ffbf4780;  
            --color-four: #bf4a1d80;  
            --color-five: #ffbf4740;  
            --time-animation: 2s;  
            --size: 1;  
            position: relative;  
            border-radius: 50%;  
            transform: scale(var(--size));  
            box-shadow:  
                0 0 25px 0 var(--color-three),  
                0 20px 50px 0 var(--color-four);  
            animation: colorize calc(var(--time-animation) * 3) ease-in-out infinite;  
        }  

        .loader::before {  
            content: "";  
            position: absolute;  
            top: 0;  
            left: 0;  
            width: 100px;  
            height: 100px;  
            border-radius: 50%;  
            border-top: solid 1px var(--color-one);  
            border-bottom: solid 1px var(--color-two);  
            background: linear-gradient(180deg, var(--color-five), var(--color-four));  
            box-shadow:  
                inset 0 10px 10px 0 var(--color-three),  
                inset 0 -10px 10px 0 var(--color-four);  
        }  

        .loader .box {  
            width: 100px;  
            height: 100px;  
            background: linear-gradient(180deg, var(--color-one) 30%, var(--color-two) 70%);  
            mask: url(#clipping);  
            -webkit-mask: url(#clipping);  
        }  

        .loader svg {  
            position: absolute;  
        }  

        .loader svg #clipping {  
            filter: contrast(15);  
            animation: roundness calc(var(--time-animation) / 2) linear infinite;  
        }  

        .loader svg #clipping polygon {  
            filter: blur(7px);  
        }  

        .loader svg #clipping polygon:nth-child(1) {  
            transform-origin: 75% 25%;  
            transform: rotate(90deg);  
        }  

        .loader svg #clipping polygon:nth-child(2) {  
            transform-origin: 50% 50%;  
            animation: rotation var(--time-animation) linear infinite reverse;  
        }  

        .loader svg #clipping polygon:nth-child(3) {  
            transform-origin: 50% 60%;  
            animation: rotation var(--time-animation) linear infinite;  
            animation-delay: calc(var(--time-animation) / -3);  
        }  

        .loader svg #clipping polygon:nth-child(4) {  
            transform-origin: 40% 40%;  
            animation: rotation var(--time-animation) linear infinite reverse;  
        }  

        .loader svg #clipping polygon:nth-child(5) {  
            transform-origin: 40% 40%;  
            animation: rotation var(--time-animation) linear infinite reverse;  
            animation-delay: calc(var(--time-animation) / -2);  
        }  

        .loader svg #clipping polygon:nth-child(6) {  
            transform-origin: 60% 40%;  
            animation: rotation var(--time-animation) linear infinite;  
        }  

        .loader svg #clipping polygon:nth-child(7) {  
            transform-origin: 60% 40%;  
            animation: rotation var(--time-animation) linear infinite;  
            animation-delay: calc(var(--time-animation) / -1.5);  
        }  

        @keyframes rotation {  
            0% { transform: rotate(0deg); }  
            100% { transform: rotate(360deg); }  
        }  

        @keyframes roundness {  
            0% { filter: contrast(15); }  
            20% { filter: contrast(3); }  
            40% { filter: contrast(3); }  
            60% { filter: contrast(15); }  
            100% { filter: contrast(15); }  
        }  

        @keyframes colorize {  
            0% { filter: hue-rotate(0deg); }  
            20% { filter: hue-rotate(-30deg); }  
            40% { filter: hue-rotate(-60deg); }  
            60% { filter: hue-rotate(-90deg); }  
            80% { filter: hue-rotate(-45deg); }  
            100% { filter: hue-rotate(0deg); }  
        }  

        /* ---------------- PERIODICAL RECORDS SECTION STYLES ---------------- */  

        :root {  
            --page-bg: #ffffff;  
            --text-main: #111827;  
            --text-muted: #6b7280;  

            --metric-bg: #ffe3ec;  
            --metric-border: #f8cfdc;  
            --metric-accent: #ff4f7d;  

            /* summary card sky-blue background */  
            --info-bg: linear-gradient(135deg, #e0f2ff 0%, #bfdbfe 100%);  
            --info-border: rgba(148, 163, 184, 0.5);  

            /* keep yellow subject background */  
            --subject-2-bg: linear-gradient(135deg, #fef3c7, #fde68a);  

            --card-radius: 18px;  
            --shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.08);  
        }  

        .periodical-section {  
            display: flex;  
            flex-direction: column;  
            gap: 4px;  
            margin-bottom: 40px;  
        }  

        .periodical-header {  
            display: flex;  
            flex-direction: column;  
            gap: 4px;  
            margin-bottom: 8px;  
        }  

        .periodical-header h2 {  
            font-size: 22px;  
            font-weight: 700;  
            color: #2d3436;  
        }  

        /* DATE PICKER */  
        .date-picker-container {  
            max-width: 420px;  
            width: 100%;  
        }  

        .custom-flatpickr {  
            position: relative;  
        }  

        .custom-flatpickr input {  
            width: 100%;  
            padding: 12px 16px;  
            padding-right: 52px;  
            font-size: 15px;  
            color: transparent;  
            background: #ffffff;  
            border: 1px solid #d1d5db;  
            border-radius: 10px;  
            outline: none;  
            transition: all 0.2s ease;  
            cursor: pointer;  
            caret-color: transparent;  
        }  

        .custom-flatpickr input:hover {  
            border-color: #9ca3af;  
            box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.6);  
        }  

        .custom-flatpickr input:focus {  
            border-color: #6366f1;  
            box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.7);  
        }  

        .custom-flatpickr input::placeholder {  
            color: transparent;  
        }  

        .date-display {  
            position: absolute;  
            left: 16px;  
            right: 52px;  
            top: 50%;  
            transform: translateY(-50%);  
            pointer-events: none;  
            display: flex;  
            align-items: center;  
            gap: 8px;  
            font-size: 13px;  
            font-weight: 500;  
        }  

        .date-part {  
            color: var(--text-main);  
            white-space: nowrap;  
            position: relative;  
            padding-bottom: 2px;  
        }  

        .date-part.empty {  
            color: #9ca3af;  
        }  

        .date-part::after {  
            content: '';  
            position: absolute;  
            bottom: 0;  
            left: 0;  
            right: 0;  
            height: 1px;  
            background: #9ca3af;  
            opacity: 0.7;  
        }  

        .date-separator {  
            color: #9ca3af;  
            font-weight: 600;  
            flex-shrink: 0;  
        }  

        .calendar-icon {  
            position: absolute;  
            right: 14px;  
            top: 50%;  
            transform: translateY(-50%);  
            pointer-events: none;  
            font-size: 20px;  
            transition: color 0.2s;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  

        .calendar-icon svg {  
            width: 20px;  
            height: 20px;  
        }  

        .custom-flatpickr input:hover ~ .calendar-icon,  
        .custom-flatpickr input:focus ~ .calendar-icon {  
            color: #4b5563;  
        }  

        .date-picker-helper {  
            margin-top: 6px;  
            font-size: 12px;  
            color: var(--text-muted);  
            margin-left: auto;  
            width: fit-content;  
            padding-right: 215px;  
        }  

        /* BENTO GRID */  
        .bento-grid {  
            display: grid;  
            grid-template-columns: repeat(4, minmax(0, 1fr));  
            gap: 16px;  
            margin-top: 16px;  
        }  

        /* Base card */  
        .card {  
            border-radius: var(--card-radius);  
            padding: 8px 16px 14px;  
            box-shadow: var(--shadow-soft);  
            background: #ffffff;  
            display: flex;  
            flex-direction: column;  
            justify-content: space-between;  
            overflow: hidden;  
            border: none;  
            position: relative;  
        }  

        .card-title {  
            font-size: 15px;  
            font-weight: 600;  
            margin-bottom: 6px;  
        }  

        .card-body {  
            flex: 1;  
            display: flex;  
            flex-direction: column;  
            justify-content: center;  
            align-items: center;  
        }  

        .card-footer {  
            margin-top: 8px;  
            text-align: center;  
            font-size: 12px;  
            color: var(--text-muted);  
        }  

        .span-2 {  
            grid-column: span 2;  
        }  

        .span-full {  
            grid-column: 1 / -1;  
        }  

        /* Metric cards */  
        .metric-card {
            background: transparent;              /* no fill, show page background */
            border: 1px solid #e5e7eb;           /* light border only */
            box-shadow: none;                    /* remove shadow just for metric cards */
        } 

        .metric-icon {  
            position: absolute;  
            top: 12px;  
            right: 14px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            opacity: 0.9;  
        }  

        .metric-icon svg {  
            width: 22px;  
            height: 22px;  
        }  

        /* Edit pencil for major card */  
        .major-edit-icon {  
            position: absolute;  
            left: 14px;  
            bottom: 10px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            cursor: pointer;  
            opacity: 0.9;  
        }  

        .major-edit-icon svg {  
            width: 24px;  
            height: 24px;  
        }  

        /* Circle graph */  
        .circle-shell {  
            width: 95%;  
            max-width: 300px;  
            aspect-ratio: 1 / 1;  
            position: relative;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
        }  

        .circle-shell svg {  
            width: 100%;  
            height: 100%;  
            transform: rotate(-90deg);  
        }  

        .circle-outer-ring {  
            fill: none;  
            stroke: #111827;  
            stroke-width: 8;  
            opacity: 0.15;  
        }  

        .circle-inner-value {  
            fill: none;  
            stroke: #9a7acf;  
            stroke-width: 8;  
            stroke-linecap: round;  
            stroke-dasharray: 377;  
            stroke-dashoffset: 94;  
        }  

        .circle-center {  
            position: absolute;  
            width: 52%;  
            height: 52%;  
            background: #fff5f8;  
            border-radius: 999px;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);  
        }  

        .circle-center span {  
            font-size: 22px;  
            font-weight: 700;  
            color: #111827;  
        }  

        /* Half circle */  
        .half-shell {  
            margin-top: 10px;  
            width: 105%;  
            max-width: 360px;  
            aspect-ratio: 2 / 1;  
            position: relative;  
            display: flex;  
            justify-content: center;  
            align-items: flex-end;  
            margin-bottom: 0;  
        }  

        .half-shell svg {  
            width: 100%;  
            height: 100%;  
        }  

        .half-outer-ring {  
            fill: none;  
            stroke: #111827;  
            stroke-width: 8;  
            stroke-linecap: round;  
            opacity: 0.15;  
        }  

        .half-inner-value {  
            fill: none;  
            stroke: #9776cd;  
            stroke-width: 8;  
            stroke-linecap: round;  
            pathLength: 100;  
            stroke-dasharray: 100;  
            stroke-dashoffset: 100;  
        }  

        .half-center-text {  
            position: absolute;  
            top: 83%;  
            left: 50%;  
            transform: translate(-50%, -50%);  
            font-size: 22px;  
            font-weight: 700;  
            color: var(--text-main);  
            line-height: 1;  
        }  

        /* Major selection panel */  
        .major-modal {  
            position: absolute;  
            inset: 0;  
            background: rgba(255, 255, 255, 0.98);  
            display: none;  
            z-index: 10;  
            border-radius: inherit;  
            padding: 12px 14px 10px;  
        }  

        .major-modal-content {  
            display: flex;  
            flex-direction: column;  
            height: 100%;  
        }  

        .major-modal-subtitle {  
            font-size: 12px;  
            color: var(--text-muted);  
            margin-bottom: 8px;  
        }  

        .major-modal-list {  
            flex: 1;  
            display: flex;  
            flex-direction: column;  
            gap: 4px;  
            margin-bottom: 10px;  
            overflow-y: auto;  
            padding-right: 2px;  
        }  

        .major-modal-list label {  
            display: flex;  
            align-items: center;  
            gap: 6px;  
            cursor: pointer;  
            font-size: 13px;  
        }  

        .major-modal-list input[type="checkbox"] {  
            width: 14px;  
            height: 14px;  
        }  

        .major-modal-actions {  
            display: flex;  
            justify-content: flex-end;  
            gap: 8px;  
            margin-top: 4px;  
        }  

        .btn-ghost,  
        .btn-primary {  
            border-radius: 999px;  
            padding: 4px 10px;  
            font-size: 12px;  
            border: none;  
            cursor: pointer;  
        }  

        .btn-ghost {  
            background: #f3f4f6;  
            color: #111827;  
        }  

        .btn-primary {  
            background: #111827;  
            color: #ffffff;  
        }  

        /* Attendance summary card */  
        .info-card {  
            background: var(--info-bg);  
            align-items: stretch;  
            color: #0f172a;  
        }  

        .summary-header {  
            display: flex;  
            align-items: flex-start;  
            justify-content: space-between;  
            margin-bottom: 8px;  
        }  

        .summary-title {  
            font-size: 15px;  
            font-weight: 600;  
        }  

        .summary-icon {  
            display: inline-flex;  
            align-items: center;  
            justify-content: center;  
        }  

        .summary-icon svg {  
            width: 20px;  
            height: 20px;  
            color: #0f172a;  
            opacity: 0.9;  
        }  

        .info-card-body {  
            font-size: 13px;  
            color: #0f172a;  
        }  

        .info-card-body ul {  
            list-style: disc;  
            padding-left: 18px;  
            margin: 0;  
        }  

        .info-card-body li {  
            margin-bottom: 4px;  
        }  

        /* Subject cards for periodical section */  
        .card.subject-card {  
            aspect-ratio: 1.2 / 1;  
            padding: 12px 16px 14px;  
            position: relative;  
            display: flex;  
            flex-direction: column;  
            justify-content: flex-start;  
            min-height: 120px;  
        }  

        .subject-header {  
            display: flex;  
            justify-content: space-between;  
            align-items: flex-start;  
            gap: 8px;  
            max-height: 48px;  
            overflow: hidden;  
            margin-bottom: 4px;  
        }  

        .card.subject-card .subject-name {  
            font-size: 14px;  
            font-weight: 600;  
            color: #111827;  
            line-height: 1.2;  
            flex: 1;  
            word-break: break-word;  
            white-space: normal;  
            transition: font-size 0.1s ease-out;  
        }  

        .card.subject-card .subject-icon {  
            display: flex;  
            align-items: flex-start;  
            justify-content: center;  
            flex-shrink: 0;  
            width: auto;  
            height: auto;  
            background: none;  
            margin-bottom: 0;  
        }  

        .card.subject-card .subject-icon svg {  
            width: 22px;  
            height: 22px;  
        }  

        .subject-meta-group {  
            display: flex;  
            flex-direction: column;  
            gap: 0;  
            margin-top: 4px;  
            flex-grow: 1;  
        }  

        .subject-meta {  
            font-size: 12px;  
            color: #374151;  
            margin: 0;  
            line-height: 1.4;  
        }  

        .card.subject-card .subject-percentage {  
            position: absolute;  
            right: 16px;  
            bottom: 14px;  
            font-size: 22px;  
            font-weight: 700;  
            color: #111827;  
            z-index: 1;  
        }  

        .card.subject-card.purple {  
            background: linear-gradient(135deg, #b39ddb 0%, #9575cd 100%);  
            border: none;  
        }  

        .card.subject-card.mint {  
            background: linear-gradient(135deg, #a8ddc4 0%, #7cc9a5 100%);  
            border: none;  
        }  

        .card.subject-card.peach {  
            background: linear-gradient(135deg, #ffccbc 0%, #ffab91 100%);  
            border: none;  
        }  

        .card.subject-card.subject-2 {  
            background: var(--subject-2-bg);  
            border: none;  
        }  

        /* ===================== DATE-WISE RECORDS SECTION ===================== */

        .datewise-section {
            margin-bottom: 40px;
        }

        .datewise-section .app-shell {
            background: transparent;
            border-radius: 0;
            box-shadow: none;
            width: 100%;
            max-width: 1100px;
            padding: 16px 0 32px;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .datewise-section header.app-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .datewise-section header .title-block {
            display: flex;
            flex-direction: column;
            gap: 2px;
            flex: 1;
            min-width: 0;
        }

        .datewise-section header h1 {
            font-size: 1.35rem;
            font-weight: 700;
            letter-spacing: 0.01em;
            white-space: nowrap;
        }

        .datewise-section header .subtitle {
            font-size: 0.8rem;
            color: #777777;
        }

        .datewise-section .month-year-select {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            border-radius: 12px;
            border: 1px solid #e2e2f0;
            background: #f9fafb;
            gap: 6px;
            flex-shrink: 0;
            min-width: 0;
            max-width: 160px;
        }

        .datewise-section .month-year-select .edit-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            opacity: 0.9;
        }

        .datewise-section .month-year-select .edit-icon svg {
            width: 16px;
            height: 16px;
            display: block;
        }

        .datewise-section .month-year-select select {
            border: none;
            background: transparent;
            padding: 2px 0;
            font-size: 0.85rem;
            color: #222222;
            outline: none;
            cursor: pointer;
            appearance: none;
            text-align: left;
            flex: 0 0 auto;
            min-width: 0;
            white-space: nowrap;
        }

        .datewise-section .date-strip-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 4px;
        }

        .datewise-section .date-strip {
            flex: 1;
            display: flex;
            gap: 6px;
            overflow-x: auto;
            padding: 4px 2px 2px;
            scroll-behavior: smooth;
        }

        .datewise-section .date-strip::-webkit-scrollbar {
            display: none;
        }

        .datewise-section .date-item {
            flex: 0 0 auto;
            min-width: 52px;
            border-radius: 14px;
            border: 1px solid transparent;
            padding: 8px 4px;
            background: #f3f4ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            cursor: pointer;
            font-size: 0.76rem;
            color: #777777;
            transition: all 0.15s ease;
            flex-shrink: 0;
        }

        .datewise-section .date-item .day-number {
            font-size: 0.95rem;
            font-weight: 700;
            letter-spacing: 0.03em;
        }

        .datewise-section .date-item.selected {
            background: #5b4bff;
            border-color: transparent;
            color: #ffffff;
            box-shadow: none;
            transform: none;
        }

        .datewise-section .date-item:not(.selected):hover {
            background: #e5e7ff;
            border-color: #e0e7ff;
            color: #111827;
        }

        .datewise-section .cards-container {
            margin-top: 8px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .datewise-section .empty-state {
            border-radius: 20px;
            border: 1px dashed #d1d5db;
            padding: 18px;
            background: #f9fafb;
            text-align: center;
            font-size: 0.9rem;
            color: #777777;
        }

        .datewise-section .record-card {
            border-radius: 20px;
            padding: 14px 14px 10px;
            background: linear-gradient(135deg, #fefce8, #f9fafb);
            border: 1px solid #facc15;
            box-shadow: 0 8px 18px rgba(234, 179, 8, 0.15);
            display: flex;
            flex-direction: column;
            gap: 6px;
            position: relative;
            overflow: hidden;
        }

        .datewise-section .record-card:nth-child(2n) {
            background: linear-gradient(135deg, #eff6ff, #f9fafb);
            border-color: #60a5fa;
            box-shadow: 0 8px 18px rgba(37, 99, 235, 0.15);
        }

        .datewise-section .record-card:nth-child(3n) {
            background: linear-gradient(135deg, #f5f3ff, #f9fafb);
            border-color: #a855f7;
            box-shadow: 0 8px 18px rgba(168, 85, 247, 0.18);
        }

        .datewise-section .record-card:nth-child(4n) {
            background: linear-gradient(135deg, #fff7ed, #ecfdf5);
            border-color: #fb923c;
            box-shadow: 0 8px 18px rgba(251, 146, 60, 0.18);
        }

        .datewise-section .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 12px;
        }

        .datewise-section .card-header-left {
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-width: 0;
            flex: 1 1 0%;
        }

        .datewise-section .card-header-left .subject-name {
            font-size: 1rem;
            font-weight: 700;
        }

        .datewise-section .meta-line {
            font-size: 0.82rem;
            color: #4b5563;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 4px;
            flex-wrap: nowrap;
        }

        .datewise-section .meta-item {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
            flex: 0 0 auto;
        }

        .datewise-section .meta-item.faculty {
            white-space: nowrap;
            flex: 0 0 auto;
        }

        .datewise-section .meta-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background: transparent;
            border: none;
            outline: none;
        }

        .datewise-section .meta-icon svg {
            width: 16px;
            height: 16px;
            display: block;
            stroke: currentColor;
            fill: none;
            background: transparent;
        }

        .datewise-section .meta-text {
            font-size: 0.8rem;
        }

        .datewise-section .status-pill {
            border-radius: 999px;
            padding: 3px 10px;
            font-size: 0.78rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: rgba(31, 41, 55, 0.08);
            color: #111827;
            white-space: nowrap;
            width: 80px;
            justify-content: center;
            box-sizing: border-box;
            flex-shrink: 0;
        }

        .datewise-section .status-dot {
            width: 7px;
            height: 7px;
            border-radius: 999px;
            background: currentColor;
            flex-shrink: 0;
        }

        .datewise-section .status-present {
            background: rgba(22, 163, 74, 0.12);
            color: #16a34a;
        }

        .datewise-section .status-absent {
            background: rgba(220, 38, 38, 0.10);
            color: #dc2626;
        }

        .datewise-section .status-notheld {
            background: rgba(55, 65, 81, 0.12);
            color: #6b7280;
        }

        .datewise-section .remarks {
            font-size: 0.84rem;
            color: #4b5563;
            margin-top: 2px;
        }

        .datewise-section .remarks-label {
            font-size: 0.74rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.04em;
            color: #9ca3af;
        }

        .datewise-section .record-card-footer {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-top: 8px;
        }

        .datewise-section .edit-card-btn {
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.55);
            padding: 6px 12px;
            font-size: 0.82rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            background: rgba(255, 255, 255, 0.18);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            box-shadow: 0 8px 24px rgba(15, 23, 42, 0.22);
            color: #111827;
            transition: background 0.12s, transform 0.08s, box-shadow 0.12s, border-color 0.12s;
        }

        .datewise-section .edit-card-btn svg {
            width: 16px;
            height: 16px;
            display: block;
            stroke: currentColor;
            fill: none;
        }

        .datewise-section .edit-card-btn:hover {
            background: rgba(255, 255, 255, 0.26);
            border-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 10px 30px rgba(15, 23, 42, 0.28);
        }

        .datewise-section .edit-card-btn:active {
            transform: translateY(1px) scale(0.97);
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.22);
        }

        .datewise-section .edit-card-btn-label {
            font-weight: 500;
        }

        .datewise-section .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.28);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            z-index: 40;
        }

        .datewise-section .modal-backdrop.hidden {
            display: none;
        }

        .datewise-section .modal {
            width: 100%;
            max-width: 420px;
            background: #ffffff;
            border-radius: 20px;
            padding: 18px 18px 16px;
            box-shadow: 0 18px 40px rgba(15, 23, 42, 0.45);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .datewise-section .modal h3 {
            font-size: 1.05rem;
            font-weight: 700;
        }

        .datewise-section .modal-subject {
            font-size: 0.9rem;
            color: #777777;
        }

        .datewise-section .form-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin-top: 4px;
        }

        .datewise-section .form-group label {
            font-size: 0.8rem;
            font-weight: 600;
            color: #374151;
        }

        .datewise-section .modal select,
        .datewise-section .modal textarea {
            border-radius: 10px;
            border: 1px solid #d1d5db;
            padding: 6px 8px;
            font-size: 0.9rem;
            outline: none;
            resize: vertical;
            min-height: 70px;
        }

        .datewise-section .modal select:focus,
        .datewise-section .modal textarea:focus {
            border-color: #5b4bff;
            box-shadow: 0 0 0 1px rgba(88, 80, 238, 0.35);
        }

        .datewise-section .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 4px;
        }

        .datewise-section .btn {
            border-radius: 999px;
            border: 1px solid transparent;
            padding: 6px 14px;
            font-size: 0.85rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            transition: background 0.12s, transform 0.08s, box-shadow 0.12s;
        }

        .datewise-section .btn-secondary {
            background: #f9fafb;
            border-color: #e5e7eb;
            color: #374151;
        }

        .datewise-section .btn-secondary:hover {
            background: #e5e7eb;
        }

        .datewise-section .btn-primary {
            background: #5b4bff;
            color: #ffffff;
            box-shadow: 0 8px 18px rgba(88, 80, 238, 0.35);
        }

        .datewise-section .btn-primary:hover {
            background: #4338ca;
        }

        .datewise-section .btn:active {
            transform: translateY(1px);
            box-shadow: none;
        }

        @media (max-width: 640px) {
            .datewise-section .app-shell {
                padding: 8px 0 24px;
                border-radius: 0;
            }
            .datewise-section header.app-header {
                flex-direction: row;
                align-items: center;
            }
            .datewise-section header .title-block {
                flex: 1;
            }
            .datewise-section header h1 {
                font-size: 1.15rem;
            }
            .datewise-section .card-header {
                align-items: flex-start;
            }
        }
</style>
</head>
<body>
    <!-- HEADER -->
    <header class="header" id="mainHeader">
        <div class="top-bar">
            <div class="left-section">
                <!-- Menu button -->
                <button class="icon-btn" type="button">
                    <div class="menu-mini">
                        <span></span>
                    </div>
                </button>

                <!-- Brand -->
                <div class="brand-container">
                    <div class="brand-name">ATTENZA</div>
                    <div class="tagline">Attendance, but actually usable.</div>
                </div>
            </div>

            <!-- Right: Notification -->
            <button class="icon-btn notif-rev" type="button">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M12 3C9.79 3 8 4.79 8 7V8.09C8 8.59 7.79 9.07 7.42 9.42L6.29 10.55C5.49 11.34 5 12.42 5 13.55V16.5L4 18V19H20V18L19 16.5V13.55C19 12.42 18.51 11.34 17.71 10.55L16.58 9.42C16.21 9.07 16 8.59 16 8.09V7C16 4.79 14.21 3 12 3Z"
                        stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M10 20C10.4 20.6 11.14 21 12 21C12.86 21 13.6 20.6 14 20" stroke="currentColor"
                        stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <div class="notif-dot"></div>
            </button>
        </div>

        <!-- Expand down arrow -->
        <div class="expand-section">
            <div id="expandArrow" class="expand-arrow">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                    <path d="M6 9L12 15L18 9" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </div>

            <div id="expandedContent" class="expanded-content">
                <div class="content-inner">
                    <div class="info-section">
                        <h3>Why ATTENZA exists</h3>
                        <p>
                            Because every attendance app so far is either ugly, confusing, or built by someone who never
                            had to actually sit in class and manage 75% somehow. This one is built like a real product,
                            not a college project.
                        </p>
                    </div>

                    <div class="features">
                        <div class="feature-card">
                            <h4>Subject-wise tracking</h4>
                            <p>
                                See attendance for each subject separately, so you know exactly where to bunk and where
                                you need to show up.
                            </p>
                        </div>
                        <div class="feature-card">
                            <h4>Day + Date + Period wise</h4>
                            <p>
                                Record every class period. Youâ€™ll know which days are safe to skip and which days are
                                dangerous.
                            </p>
                        </div>
                        <div class="feature-card">
                            <h4>No Excel headaches</h4>
                            <p>
                                Designed like a modern app, not a spreadsheet. Clean screens, simple actions, and
                                everything where you expect it.
                            </p>
                        </div>
                        <div class="feature-card">
                            <h4>Built for Dispur College</h4>
                            <p>
                                All wording, layout, and logic tuned for Dispur College studentsâ€™ actual timetable and
                                pain points.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="content-body">

        <!-- Install strip (PWA) -->
        <div id="installStrip" class="install-strip hidden">
            <div class="install-content">
                <div id="installText" class="install-text">
                    Install ATTENZA on your home screen for faster access.
                </div>
                <button id="closeInstallStrip" class="close-strip" type="button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                        stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <!-- â€œMade with loveâ€ sketch line -->
        <div class="sketch-line-container">
            <div class="sketch-line">
                <svg class="sketch-heart" viewBox="0 0 24 24">
                    <path d="M12 20s-4.5-3.3-7.1-5.9C3 13 2 11.7 2 9.8 2 7.6 3.6 6 5.8 6c1.3 0 2.5.7 3.2 1.8C9.7 6.7 10.9 6 12.2 6 14.4 6 16 7.6 16 9.8c0 1.9-1 3.2-2.9 4.3C16.5 16.7 12 20 12 20z"/>
                </svg>
                Page designed like a real notebook, not a boring app.
            </div>
        </div>

        <!-- WELCOME / HERO SECTION -->
        <section class="welcome-section">
            <div class="welcome-content">
                <div class="welcome-text-content">
                    <h3>Hi, this is your actual attendance control panel.</h3>
                    <p>
                        One place where your overall percentage, risky subjects, safe bunk days, and daily records all
                        live together. No Excel, no calculator app, no confusion.
                    </p>
                </div>

                <!-- Overall attendance ring -->
                <div class="attendance-ring">
                    <svg class="ring-svg" viewBox="0 0 120 120">
                        <circle class="ring-bg-circle" cx="60" cy="60" r="46"></circle>
                        <circle class="ring-progress-circle" id="overallRing" cx="60" cy="60" r="46"></circle>
                    </svg>
                    <div class="ring-center">
                        <span id="overallPercentage" class="percentage">75%</span>
                        <span class="percentage-label">Overall</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- PERIODICAL RECORDS SECTION (BENTO) -->
        <section class="periodical-section">
            <div class="periodical-header">
                <h2>Periodical records</h2>
            </div>

            <!-- Custom date picker -->
            <div class="date-picker-container">
                <div class="custom-flatpickr">
                    <input id="periodicalDate" type="text" placeholder="Select date" readonly />
                    <div class="date-display" id="dateDisplay">
                        <span class="date-part empty" id="dateDayName">DAY</span>
                        <span class="date-separator">/</span>
                        <span class="date-part empty" id="dateDayNumber">DD</span>
                        <span class="date-separator">/</span>
                        <span class="date-part empty" id="dateMonthYear">MMM YYYY</span>
                    </div>
                    <div class="calendar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                d="M8 7V4m8 3V4M4 10h16M5 5h14a1 1 0 011 1v13a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" />
                        </svg>
                    </div>
                </div>
                <div class="date-picker-helper">
                    Tap to pick any date & view your records.
                </div>
            </div>

            <!-- Bento grid -->
            <div class="bento-grid">

                <!-- Big circle card -->
                <div class="card span-2 metric-card">
                    <div class="card-title">Todayâ€™s safe / danger level</div>
                    <div class="card-body">
                        <div class="circle-shell">
                            <svg viewBox="0 0 120 120">
                                <circle class="circle-outer-ring" cx="60" cy="60" r="52"></circle>
                                <circle class="circle-inner-value" cx="60" cy="60" r="52"
                                    id="circleInner"></circle>
                            </svg>
                            <div class="circle-center">
                                <span id="circleValue">78%</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        Based on all subjectsâ€™ current percentage vs 75% rule.
                    </div>
                </div>

                <!-- Half arc card -->
                <div class="card metric-card">
                    <div class="card-title">Classes attended this month</div>
                    <div class="card-body">
                        <div class="half-shell">
                            <svg viewBox="0 0 200 100">
                                <path class="half-outer-ring"
                                    d="M10,90 A90,90 0 0,1 190,90" />
                                <path class="half-inner-value" id="halfInner"
                                    d="M10,90 A90,90 0 0,1 190,90" />
                            </svg>
                            <div class="half-center-text" id="halfValue">42</div>
                        </div>
                    </div>
                    <div class="card-footer">
                        Classes you actually attended (all subjects combined).
                    </div>
                </div>

                <!-- Major card -->
                <div class="card metric-card">
                    <div class="card-title">Major / important subjects</div>

                    <div class="card-body">
                        <div id="majorSummary">
                            <p style="font-size: 13px; text-align: left; color:#4b5563;">
                                Youâ€™ve marked <strong id="majorCount">3</strong> subjects as
                                â€œmajorâ€ for safety. Their attendance will be treated as priority.
                            </p>
                            <ul style="margin-top: 6px; padding-left: 16px; font-size: 13px; color:#4b5563;"
                                id="majorList">
                                <li>Financial Accounting</li>
                                <li>Business Organisation</li>
                                <li>English</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Pencil icon to open modal -->
                    <div class="major-edit-icon" id="openMajorModal">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                d="M16.862 3.487l3.651 3.65a1.5 1.5 0 010 2.122l-8.84 8.84-4.242 1.06 1.06-4.243 8.84-8.84a1.5 1.5 0 012.121 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                d="M19 13.5V21H5V7h7.5" />
                        </svg>
                    </div>

                    <!-- Major modal -->
                    <div class="major-modal" id="majorModal">
                        <div class="major-modal-content">
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <div>
                                    <div style="font-size: 13px; font-weight:600; color:#111827;">Choose your
                                        â€œmajor / riskyâ€ subjects</div>
                                    <div class="major-modal-subtitle">
                                        These will be treated as most important while calculating safe bunks.
                                    </div>
                                </div>
                                <button id="closeMajorModalX" class="btn-ghost" type="button"
                                    style="padding:2px 7px; border-radius:999px; font-size:11px;">
                                    âœ•
                                </button>
                            </div>

                            <div class="major-modal-list" id="majorModalList">
                                <!-- Filled from JS: checkbox list of subjects -->
                            </div>

                            <div class="major-modal-actions">
                                <button id="closeMajorModal" class="btn-ghost" type="button">Cancel</button>
                                <button id="saveMajorModal" class="btn-primary" type="button">Save</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info summary card -->
                <div class="card span-full info-card">
                    <div class="summary-header">
                        <div>
                            <div class="summary-title">Quick summary for today</div>
                            <div style="font-size: 12px; color:#1f2937; margin-top:2px;">
                                Based on your current records and safe/unsafe subjects.
                            </div>
                        </div>
                        <div class="summary-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                                <path d="M12 3v2.5M6.2 5.2l1.8 1.8M3 12h2.5M5.2 17.8l1.8-1.8M12 18.5V21M16 12a4 4 0 11-8 0 4 4 0 018 0z"
                                    stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </div>
                    </div>

                    <div class="info-card-body">
                        <ul id="summaryList">
                            <li><strong>2 subjects</strong> are safely above 80% â€“ can bunk occasionally.</li>
                            <li><strong>1 subject</strong> is around 75% â€“ be careful, margin is thin.</li>
                            <li><strong>1 subject</strong> is currently <span
                                    style="color:#b91c1c; font-weight:600;">below 70%</span> â€“ this is your danger
                                zone.</li>
                        </ul>
                    </div>
                </div>

                <!-- Subject cards (examples) -->
                <div class="card subject-card purple" data-subject-id="sub-1">
                    <div class="subject-header">
                        <div class="subject-name">Financial Accounting</div>
                        <div class="subject-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                    d="M5 5h14v14H5z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                    d="M9 9h2v6H9zM13 11h2v4h-2z" />
                            </svg>
                        </div>
                    </div>
                    <div class="subject-meta-group">
                        <p class="subject-meta">Total classes: 22</p>
                        <p class="subject-meta">Attended: 18 &nbsp; | &nbsp; Bunks you can still take safely: 2</p>
                    </div>
                    <div class="subject-percentage" data-subject-percent>81%</div>
                </div>

                <div class="card subject-card subject-2" data-subject-id="sub-2">
                    <div class="subject-header">
                        <div class="subject-name">Business Organisation & Management</div>
                        <div class="subject-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                    d="M4 7h16M4 12h16M4 17h16" />
                            </svg>
                        </div>
                    </div>
                    <div class="subject-meta-group">
                        <p class="subject-meta">Total classes: 20</p>
                        <p class="subject-meta">Attended: 14 &nbsp; | &nbsp; Bunks left safely: 1</p>
                    </div>
                    <div class="subject-percentage" data-subject-percent>70%</div>
                </div>

                <div class="card subject-card mint" data-subject-id="sub-3">
                    <div class="subject-header">
                        <div class="subject-name">English</div>
                        <div class="subject-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                    d="M5 19l3-6 4 2 3-7 4 11H5z" />
                            </svg>
                        </div>
                    </div>
                    <div class="subject-meta-group">
                        <p class="subject-meta">Total classes: 18</p>
                        <p class="subject-meta">Attended: 15 &nbsp; | &nbsp; Bunks left safely: 1â€“2</p>
                    </div>
                    <div class="subject-percentage" data-subject-percent>83%</div>
                </div>

                <div class="card subject-card peach" data-subject-id="sub-4">
                    <div class="subject-header">
                        <div class="subject-name">Environmental Studies</div>
                        <div class="subject-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                                    d="M12 21C8.134 21 5 17.866 5 14V6.5L12 3l7 3.5V14c0 3.866-3.134 7-7 7z" />
                            </svg>
                        </div>
                    </div>
                    <div class="subject-meta-group">
                        <p class="subject-meta">Total classes: 12</p>
                        <p class="subject-meta">Attended: 8 &nbsp; | &nbsp; Bunks left safely: 0</p>
                    </div>
                    <div class="subject-percentage" data-subject-percent>67%</div>
                </div>
            </div>
        </section>

        <!-- DATE-WISE RECORDS SECTION -->
        <section class="datewise-section">
            <div class="app-shell">
                <header class="app-header">
                    <div class="title-block">
                        <h1>Date-wise records</h1>
                        <div class="subtitle">Every single class, with faculty name, time, and status.</div>
                    </div>

                    <!-- Month / year select (simple) -->
                    <div class="month-year-select">
                        <span class="edit-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16.862 3.487l3.651 3.65a1.5 1.5 0 010 2.122l-8.84 8.84-4.242 1.06 1.06-4.243 8.84-8.84a1.5 1.5 0 012.121 0z"
                                    stroke="currentColor" stroke-width="1.4" stroke-linecap="round"
                                    stroke-linejoin="round" fill="none" />
                            </svg>
                        </span>
                        <select id="datewiseMonthSelect">
                            <option value="2025-01">Jan 2025</option>
                            <option value="2025-02">Feb 2025</option>
                            <option value="2025-03">Mar 2025</option>
                            <option value="2025-04">Apr 2025</option>
                            <option value="2025-05">May 2025</option>
                            <option value="2025-06">Jun 2025</option>
                            <option value="2025-07">Jul 2025</option>
                            <option value="2025-08">Aug 2025</option>
                            <option value="2025-09">Sep 2025</option>
                            <option value="2025-10">Oct 2025</option>
                            <option value="2025-11" selected>Nov 2025</option>
                            <option value="2025-12">Dec 2025</option>
                        </select>
                    </div>
                </header>

                <!-- Horizontal date list -->
                <div class="date-strip-wrapper">
                    <div class="date-strip" id="dateStrip">
                        <!-- Filled by JS with days 1..31 -->
                    </div>
                </div>

                <!-- Cards for that date -->
                <div class="cards-container" id="datewiseCards">
                    <div class="empty-state" id="datewiseEmpty">
                        Select a date above to see or add class records for that day.
                    </div>
                </div>
            </div>

            <!-- Edit / add card modal -->
            <div class="modal-backdrop hidden" id="datewiseModalBackdrop">
                <div class="modal" id="datewiseModal">
                    <h3 id="datewiseModalTitle">Edit record</h3>
                    <div class="modal-subject" id="datewiseModalSubjectHint">
                        Financial Accounting &ensp;â€¢&ensp; 9:00â€“9:50 AM
                    </div>

                    <div class="form-group">
                        <label for="datewiseStatus">Status</label>
                        <select id="datewiseStatus">
                            <option value="present">Present</option>
                            <option value="absent">Absent</option>
                            <option value="not-held">Class not held</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="datewiseRemarks">Notes / reason (optional)</label>
                        <textarea id="datewiseRemarks" rows="3"
                            placeholder="Example: Came late but sir allowed, college event day, headache, etc."></textarea>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="datewiseCancelBtn">Cancel</button>
                        <button type="button" class="btn btn-primary" id="datewiseSaveBtn">Save</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- NOTEBOOK PAGE SECTION -->
        <section class="notebook-section">
            <div class="page">
                <div class="margin"></div>
                <img class="note-logo" src="Image/dispur-logo.png" alt="Dispur College Logo">
                <p>
                    Todayâ€™s important notes, excuses, or future planning can live here. Think of this as the last page
                    of your physical register â€“ but cleaner and always with you.
                </p>
                <p>
                    Example: â€œIf I bunk next Mondayâ€™s Eco class, my percentage will fall below 75%. Donâ€™t do it, future
                    me.â€
                </p>
                <div class="teacher-mark">
                    <div class="teacher-sign">Checked</div>
                </div>
            </div>
        </section>

        <!-- (Optional) UPCOMING CLASSES CAROUSEL -->
        <section>
            <div class="section-header">
                <h3>Todayâ€™s classes overview</h3>
                <a href="#" class="view-all">
                    View full timetable
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5 12h14"></path>
                        <path d="M13 6l6 6-6 6"></path>
                    </svg>
                </a>
            </div>

            <div class="carousel-container">
                <div class="carousel">
                    <!-- Example class card 1 -->
                    <div class="class-card">
                        <div class="class-header">
                            <div class="class-subject">Financial Accounting</div>
                            <div class="class-time">9:00 â€“ 9:50 AM</div>
                        </div>
                        <div class="class-details">
                            <div><strong>Faculty:</strong> XYZ Sir</div>
                            <div><strong>Room:</strong> Commerce Block, 1st floor</div>
                        </div>
                        <div class="attendance-actions">
                            <button class="attendance-btn btn-attend">Present</button>
                            <button class="attendance-btn btn-skip">Absent</button>
                            <button class="attendance-btn btn-not-held">Not held</button>
                        </div>
                    </div>

                    <!-- Example class card 2 -->
                    <div class="class-card">
                        <div class="class-header">
                            <div class="class-subject">Business Organisation</div>
                            <div class="class-time">10:00 â€“ 10:50 AM</div>
                        </div>
                        <div class="class-details">
                            <div><strong>Faculty:</strong> ABC Maâ€™am</div>
                            <div><strong>Room:</strong> Commerce Block, 2nd floor</div>
                        </div>
                        <div class="attendance-actions">
                            <button class="attendance-btn btn-attend">Present</button>
                            <button class="attendance-btn btn-skip">Absent</button>
                            <button class="attendance-btn btn-not-held">Not held</button>
                        </div>
                    </div>

                    <!-- Example class card 3 -->
                    <div class="class-card">
                        <div class="class-header">
                            <div class="class-subject">English</div>
                            <div class="class-time">11:00 â€“ 11:50 AM</div>
                        </div>
                        <div class="class-details">
                            <div><strong>Faculty:</strong> DEF Maâ€™am</div>
                            <div><strong>Room:</strong> Arts Block</div>
                        </div>
                        <div class="attendance-actions">
                            <button class="attendance-btn btn-attend">Present</button>
                            <button class="attendance-btn btn-skip">Absent</button>
                            <button class="attendance-btn btn-not-held">Not held</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- AI BOARD (FULL BOTTOM SHEET) -->
    <div class="ai-board-overlay" id="aiBoardOverlay">
        <div class="ai-board" id="aiBoard">
            <div class="ai-board-header">
                <h2 class="ai-title">ATTENZA assistant</h2>
                <button class="ai-close-btn" id="aiCloseBtn" type="button">&times;</button>
            </div>

            <div class="ai-board-body">
                <div class="ai-user-card-wrapper">
                    <div class="ai-user-card">
                        <div class="ai-status-row">
                            <div class="ai-status-loader" aria-hidden="true">
                                <span class="stripe"></span>
                                <span class="stripe"></span>
                                <span class="stripe"></span>
                                <span class="stripe"></span>
                            </div>
                            <div class="ai-status-text" id="aiStatusText">
                                Analysing your subjects & percentages...
                            </div>
                        </div>
                        <div class="ai-response" id="aiResponseText">
                            If you bunk tomorrowâ€™s Business Organisation class, your overall percentage will drop to
                            around 73% and this subject will become critical. Try to attend the next two classes before
                            taking a risk.
                        </div>
                        <button class="ai-copy-btn" id="aiCopyBtn" type="button">
                            <span>Copy advice</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FIXED AI CARD AT BOTTOM -->
    <div class="ai-card-container">
        <button class="see-more-btn" id="aiSeeMoreBtn" type="button">
            <div class="logo-loader-wrapper">
                <!-- Logo / loader -->
                <div class="loader">
                    <div class="box"></div>
                    <svg width="0" height="0">
                        <defs>
                            <filter id="clipping" color-interpolation-filters="sRGB">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />
                                <feColorMatrix in="blur" mode="matrix"
                                    values="1 0 0 0 0
                                            0 1 0 0 0
                                            0 0 1 0 0
                                            0 0 0 18 -7"
                                    result="goo" />
                                <feBlend in="SourceGraphic" in2="goo" />
                            </filter>
                        </defs>
                    </svg>
                </div>
            </div>

            <div class="divider"></div>

            <div class="prompt-area">
                <div class="prompt-display">
                    <!-- Typewriter text -->
                    <div id="typewriterText" class="typewriter-text">
                        If I bunk tomorrowâ€™s Eco class, will I still be safe?
                    </div>
                    <!-- Hidden input (for future real typing) -->
                    <input id="aiPromptInput" class="prompt-input" type="text"
                        placeholder="Ask anything about your attendance, bunks & risk..." />
                </div>
                <button id="aiSendBtn" class="send-btn" type="button">â†©</button>
            </div>
        </button>
    </div>
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <script>
        /* ================= HEADER EXPAND ================= */
        const expandArrow = document.getElementById("expandArrow");
        const expandedContent = document.getElementById("expandedContent");
        const mainHeader = document.getElementById("mainHeader");

        expandArrow.addEventListener("click", () => {
            expandedContent.classList.toggle("show");
            expandArrow.classList.toggle("rotated");
            mainHeader.classList.toggle("expanded");
        });


        /* ================= INSTALL STRIP ================= */
        const installStrip = document.getElementById("installStrip");
        const closeInstallStrip = document.getElementById("closeInstallStrip");

        setTimeout(() => {
            installStrip.classList.remove("hidden");
        }, 2000);

        closeInstallStrip.addEventListener("click", () => {
            installStrip.classList.add("hidden");
        });


        /* ================= OVERALL RING ================= */
        const overallPercent = 75;
        const overallCircle = document.getElementById("overallRing");
        const radius = 46;
        const circumference = 2 * Math.PI * radius;

        overallCircle.style.strokeDasharray = circumference;
        overallCircle.style.strokeDashoffset = circumference;

        const offset = circumference - (overallPercent / 100) * circumference;
        overallCircle.style.strokeDashoffset = offset;
        document.getElementById("overallPercentage").innerText = overallPercent + "%";


        /* ================= FLATPICKR DATE PICKER ================= */
        flatpickr("#periodicalDate", {
            dateFormat: "Y-m-d",
            onChange: function (selectedDates, dateStr, instance) {
                const date = selectedDates[0];
                const optionsDay = { weekday: 'short' };
                const optionsMonth = { month: 'short', year: 'numeric' };

                document.getElementById("dateDayName").innerText =
                    date.toLocaleDateString('en-US', optionsDay);

                document.getElementById("dateDayNumber").innerText =
                    date.getDate().toString().padStart(2, '0');

                document.getElementById("dateMonthYear").innerText =
                    date.toLocaleDateString('en-US', optionsMonth);

                document.querySelectorAll(".date-part").forEach(el => el.classList.remove("empty"));
            }
        });


        /* ================= MAJOR SUBJECT MODAL ================= */
        const openMajorModal = document.getElementById("openMajorModal");
        const majorModal = document.getElementById("majorModal");
        const closeMajorModal = document.getElementById("closeMajorModal");
        const closeMajorModalX = document.getElementById("closeMajorModalX");
        const saveMajorModal = document.getElementById("saveMajorModal");
        const majorModalList = document.getElementById("majorModalList");
        const majorListDisplay = document.getElementById("majorList");
        const majorCount = document.getElementById("majorCount");

        const subjects = [
            "Financial Accounting",
            "Business Organisation",
            "English",
            "Environmental Studies"
        ];

        let majorSubjects = ["Financial Accounting", "Business Organisation", "English"];

        function renderMajorModal() {
            majorModalList.innerHTML = "";
            subjects.forEach(sub => {
                const row = document.createElement("label");
                row.innerHTML = `
                    <input type="checkbox" value="${sub}" ${majorSubjects.includes(sub) ? "checked" : ""}>
                    ${sub}
                `;
                majorModalList.appendChild(row);
            });
        }

        openMajorModal.addEventListener("click", () => {
            renderMajorModal();
            majorModal.style.display = "block";
        });

        closeMajorModal.addEventListener("click", () => {
            majorModal.style.display = "none";
        });

        closeMajorModalX.addEventListener("click", () => {
            majorModal.style.display = "none";
        });

        saveMajorModal.addEventListener("click", () => {
            majorSubjects = [];
            majorModalList.querySelectorAll("input:checked").forEach(i => {
                majorSubjects.push(i.value);
            });

            majorCount.innerText = majorSubjects.length;
            majorListDisplay.innerHTML = "";
            majorSubjects.forEach(s => {
                const li = document.createElement("li");
                li.innerText = s;
                majorListDisplay.appendChild(li);
            });

            majorModal.style.display = "none";
        });


        /* ================= DATE-WISE RECORD SYSTEM ================= */
        const dateStrip = document.getElementById("dateStrip");
        const datewiseCards = document.getElementById("datewiseCards");
        const datewiseEmpty = document.getElementById("datewiseEmpty");
        const datewiseModalBackdrop = document.getElementById("datewiseModalBackdrop");
        const datewiseModalTitle = document.getElementById("datewiseModalTitle");
        const datewiseStatus = document.getElementById("datewiseStatus");
        const datewiseRemarks = document.getElementById("datewiseRemarks");
        const datewiseSaveBtn = document.getElementById("datewiseSaveBtn");
        const datewiseCancelBtn = document.getElementById("datewiseCancelBtn");

        let selectedDay = null;
        let editingIndex = null;

        const demoRecords = {
            12: [
                { subject: "Financial Accounting", time: "9:00â€“9:50", faculty: "XYZ Sir", status: "present", remarks: "" },
                { subject: "English", time: "11:00â€“11:50", faculty: "DEF Maâ€™am", status: "absent", remarks: "Fever" }
            ],
            15: [
                { subject: "Business Organisation", time: "10:00â€“10:50", faculty: "ABC Maâ€™am", status: "present", remarks: "" }
            ]
        };

        function buildDateStrip() {
            dateStrip.innerHTML = "";
            for (let i = 1; i <= 31; i++) {
                const item = document.createElement("div");
                item.className = "date-item";
                item.innerHTML = `<div class="day-number">${i}</div><div>Day</div>`;
                item.addEventListener("click", () => {
                    document.querySelectorAll(".date-item").forEach(d => d.classList.remove("selected"));
                    item.classList.add("selected");
                    selectedDay = i;
                    renderDateCards();
                });
                dateStrip.appendChild(item);
            }
        }

        function renderDateCards() {
            datewiseCards.innerHTML = "";
            const list = demoRecords[selectedDay] || [];

            if (list.length === 0) {
                datewiseCards.appendChild(datewiseEmpty);
                datewiseEmpty.style.display = "block";
                return;
            } else {
                datewiseEmpty.style.display = "none";
            }

            list.forEach((rec, index) => {
                const card = document.createElement("div");
                card.className = "record-card";

                const statusClass =
                    rec.status === "present" ? "status-present" :
                    rec.status === "absent" ? "status-absent" : "status-notheld";

                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-header-left">
                            <div class="subject-name">${rec.subject}</div>
                            <div class="meta-line">
                                <div class="meta-item">${rec.time}</div>
                                <div class="meta-item faculty">${rec.faculty}</div>
                            </div>
                        </div>
                        <div class="status-pill ${statusClass}">
                            <span class="status-dot"></span>
                            ${rec.status.replace("-", " ")}
                        </div>
                    </div>

                    ${rec.remarks ? `
                        <div class="remarks">
                            <div class="remarks-label">Remark</div>
                            ${rec.remarks}
                        </div>` : ""}

                    <div class="record-card-footer">
                        <button class="edit-card-btn" data-index="${index}">
                            âœŽ Edit
                        </button>
                    </div>
                `;

                card.querySelector(".edit-card-btn").addEventListener("click", () => {
                    editingIndex = index;
                    datewiseModalTitle.innerText = "Edit record";
                    datewiseStatus.value = rec.status;
                    datewiseRemarks.value = rec.remarks || "";
                    datewiseModalBackdrop.classList.remove("hidden");
                });

                datewiseCards.appendChild(card);
            });
        }

        datewiseSaveBtn.addEventListener("click", () => {
            if (editingIndex !== null && selectedDay !== null) {
                demoRecords[selectedDay][editingIndex].status = datewiseStatus.value;
                demoRecords[selectedDay][editingIndex].remarks = datewiseRemarks.value;
            }

            datewiseModalBackdrop.classList.add("hidden");
            editingIndex = null;
            renderDateCards();
        });

        datewiseCancelBtn.addEventListener("click", () => {
            datewiseModalBackdrop.classList.add("hidden");
            editingIndex = null;
        });

        buildDateStrip();


        /* ================= AI BOARD ================= */
        const aiSeeMoreBtn = document.getElementById("aiSeeMoreBtn");
        const aiBoard = document.getElementById("aiBoard");
        const aiBoardOverlay = document.getElementById("aiBoardOverlay");
        const aiCloseBtn = document.getElementById("aiCloseBtn");

        aiSeeMoreBtn.addEventListener("click", () => {
            aiBoard.classList.add("visible");
        });

        aiCloseBtn.addEventListener("click", () => {
            aiBoard.classList.remove("visible");
        });


        /* ================= COPY AI TEXT ================= */
        const aiCopyBtn = document.getElementById("aiCopyBtn");
        const aiResponseText = document.getElementById("aiResponseText");

        aiCopyBtn.addEventListener("click", () => {
            navigator.clipboard.writeText(aiResponseText.innerText);
            aiCopyBtn.innerText = "Copied âœ”";
            setTimeout(() => aiCopyBtn.innerText = "Copy advice", 1500);
        });

    </script>
</body>
</html>
